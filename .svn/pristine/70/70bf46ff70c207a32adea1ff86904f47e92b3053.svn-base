package com.ucf.customer.vo;

import java.util.List;

/**
 * 分页查询工具Bean PageToolBean
 * 
 * @author yuzengjia
 * @date 2014-6-20 下午2:47:20
 *
 * @param <T>
 * @param <K>
 */
public class PageToolBean<T, K> {

	// 参数
	private T paramter;
	// 分页所得记录
	private List<K> dataList;
	/**
	 * 每页记录数
	 */
	private int pageSize = 20;

	/**
	 * 当前页
	 */
	private int currentPage = 1;

	/**
	 * 总记录数
	 */
	private int totalItem;

	/**
	 * 总页数
	 */
	private int totalPage;

	/**
	 * 当前记录开始条数（rownum ）
	 */
	private int pageFristItem;

	/**
	 * 当前记录结束条数（rownum ）
	 */
	private int pageLastItem;

	/**
	 * 上一页
	 */
	public int getLastPage() {
		return currentPage == 1 ? 1 : currentPage - 1;
	}

	/**
	 * 下一页
	 */
	public int getNextPage() {

		return currentPage == this.getTotalPage() ? currentPage
				: currentPage + 1;
	}

	public int getTotalItem() {
		return totalItem;
	}

	public void setParamter(T paramter) {
		this.paramter = paramter;
	}

	public void loadData(PageServiceInterface<T, K> pageInterface) {
		totalItem = pageInterface.getDataTotal(paramter);
		dataList = pageInterface.selectDataByPage(paramter, getFirstItem(),
				pageSize);
	}

	private int getFirstItem() {
		return (currentPage - 1) * pageSize + 1;
	}

	public int getLastItem() {
		return pageLastItem = currentPage * pageSize;
	}

	public int getTotalPage() {
		totalPage = totalItem / pageSize;
		if (totalItem % pageSize == 0) {
			totalPage = totalItem / pageSize;
		} else {
			totalPage = totalItem / pageSize + 1;
		}
		return totalPage;
	}

	public void setTotalPage(int totalPage) {
		this.totalPage = totalPage;
	}

	public int getPageSize() {
		return pageSize;
	}

	public void setPageSize(int pageSize) {
		this.pageSize = pageSize;
	}

	public int getCurrentPage() {
		return currentPage;
	}

	public void setCurrentPage(int currentPage) {
		this.currentPage = currentPage;
	}

	public int getPageFristItem() {

		return pageFristItem;
	}

	public int getPageLastItem() {

		return pageLastItem;
	}

	public List<K> getDataList() {
		return dataList;
	}
}
