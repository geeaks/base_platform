<%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<div>
	
	<c:if test="${pre<page}">
		<a href="javascript:checkpage(1);">首页</a>&nbsp;&nbsp;&nbsp;
		<a href="javascript:checkpage(${pre});">上一页</a>
                &nbsp;&nbsp;
                </c:if>
	<!--  
	<input type="text" onkeypress="return IsNum(event)"
		onchange="checkNum()" id="selectPage" size="2" value="${page }">
	&nbsp;&nbsp;
	-->
	<c:if test="${next>page}">
		<a href="javascript:checkpage(${next});">下一页</a>
                &nbsp;&nbsp;&nbsp;
       <a href="javascript:checkpage(${pageSize});">末页</a>         
     </c:if>
	
	&nbsp;&nbsp;&nbsp;共&nbsp;${pageSize}&nbsp;页&nbsp;&nbsp;&nbsp;共&nbsp;${count}&nbsp;条&nbsp;&nbsp;&nbsp;每页&nbsp;${limit}&nbsp;条
</div>

<script type="text/javascript">
			        function IsNum(e) {
			            var k = window.event ? e.keyCode : e.which;
			            if (((k >= 48) && (k <= 57)) || k == 8 || k == 0) {
			            } else {
			                if (window.event) {
			                    window.event.returnValue = false;
			                }
			                else {
			                    e.preventDefault(); //for firefox 
			                }
			            }
			        } 
			        
			        function checkNum(){
			        	if(parseInt(document.getElementById("selectPage").value) > parseInt("${pageSize}")){
			        		document.getElementById("selectPage").value = "${pageSize}";
			        	}
			        }
			        function checkpage(page){
			        	var load_page = $("#load_page" );
			        	if(load_page.length>0){ 
			        		load_page.attr("value",page);  
			        	}else{  
			        		 $('<input />').attr('type','hidden')
				             .attr('name','page')
				             .attr('id','load_page')
				             .attr('value',page)
				             .appendTo("#<%=request.getParameter("formId")%>");
			        	} 
			        	var load_limit = $("#load_limit" );
			        	if(load_limit.length>0){ 
			        		load_limit.attr("value","${limit}");  
			        	}else{  
			        		 $('<input />').attr('type','hidden')
				             .attr('name','limit')
				             .attr('id','load_limit')
				             .attr('value',"${limit}")
				             .appendTo("#<%=request.getParameter("formId")%>");
			        	} 
			        	$("#<%=request.getParameter("formId")%>").submit();
			        }
</script>