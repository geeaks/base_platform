<%@ page contentType="text/html;charset=UTF-8" %>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core" %>
<c:set var="basePath" value="${pageContext.request.contextPath }" /> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <title>先锋支付--修改用户支付密码</title>
	<jsp:include page="/WEB-INF/views/jsp/common/common.jsp"/>
    <link href="${staticMemberPath}/new/css/set-pay-password.css" rel="stylesheet" type="text/css" />
    <link href="${staticMemberPath}/new/css/host_newuser.css" rel="stylesheet" type="text/css" />
    <!--private js&css end-->
    <style type="text/css">
p.tip span {font-weight:130px;
    background-color: yellow;
	color:red;}

p.tipp span {font-weight:130px;
    background-color: yellow;
	color:red;}

	
p.tippp span {font-weight:130px;
    background-color: yellow;
	color:red;}
	p.tipp span {font-weight:130px;
    background-color: yellow;
	color:red;}	
</style>
    
  </head>
  <body>
     <c:import url="/common/head.htm"></c:import>
<section>
        <div class="box">
        <div class="fd-main">
            <div class="fd-center">
                <div class="fd-layout">
                    <form id="setPasswdForm" action="${basePath}/setPasswd/submit/" method="post">
                    <table width="100%">
                        <colgroup>
                            <col width="145" />
                            <col width="755" />
                        </colgroup>
                        <tbody>
                            
                            <tr>
                                <th>
                                   <strong class="color-yellow1">修改支付密码</strong>
                                </th>
                                <td>
                                   
                                </td>
                            </tr>
                            <tr>
                                <th>
                                   原支付密码：   
                                </th>
                                <td>
                                    <input type="password" id="oldPassword" name="oldPassword" class="idbox w228" placeholder="请输入原密码" />
                                  
                                     <span class="msg-box" for="oldPassword"></span>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                   支付密码：   
                                </th>
                                <td>
                                    <input type="password" id="paymentPassword" name="paymentPassword" class="idbox w228" placeholder="请输入支付密码" />
                                    <span class="msg-box" for="paymentPassword"></span>
                                    <p class="color-gray1">必须是6-20位字母和数字组合，不能为纯数字或字母。</p>
                                </td>
                            </tr>
                            <tr>
                                <th>
                                    确认支付密码：
                                </th>
                                <td>
                                    <input type="password" id="repeatpaymentPassword"  name="repeatpaymentPassword" class="idbox w228" placeholder="请再次输入支付密码" />
                                     <span class="msg-box" for="repeatpaymentPassword"></span>
                                </td>
                            </tr>
                            <tr>
                            	<th>手机号码：</th>
                                <td>
                                	<label class="h_open_lab">${mobile }</label><input id="validPhoneCode" type="button" onclick="sendSMSNew(${cell},1);" style="height: 28px; font-weight: bold; font-size: 14px; width: 120px;" value="发送手机验证码">
                                </td>
                            </tr>
                        <tr>
                            <th>
                                短信验证码：
                            </th>
                            <td>
                                <input type="text" id="verCode" name="verCode" maxlength="6" class="idbox w123" placeholder="请输入短信验证码" />
                            </td>
                        </tr>
                           
                            <tr>
                                <th>
                                </th>
                                <td>
                                    <p class="tip"><span>${msg }</span></p>
                                    <input type="submit" value="确定" class="but-yellow but-gray " />
                                     <a href="${basePath}/user/basicinfo.htm" class="but-gray but-blue w100 ml20" style="width:132px">取消</a>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    </form>
                </div>	
            </div>
        </div>
        </div>
    </section>
    

    <c:import url="/common/footer.htm"></c:import>
	
	
	<jsp:include page="../common/resource_js.jsp"/>
	
	<script type="text/javascript">
	$(document).ready(function() {
		$('#setPasswdForm').validator({
			stopOnError: false,
			 timely: true,
			 rules: {
				 pwdCheck: function(element) {
					 return (!(/^[A-Za-z]*$/.test(element.value)) && !(/^[0-9]*$/.test(element.value)) 
							&& /^[A-Za-z0-9-+_!@#$%^&*()]*$/.test(element.value)) || '密码不符合要求';
				 },checkLgnPwd:function (){
					 var oldpwd=$("#oldPassword").val();
					 var pwd=$("#paymentPassword").val();
					 if(oldpwd==pwd){
						 return "新支付密码不可与原支付密码相同";
					 }
					 return true;
				 }
			},
			fields: {
			   'oldPassword':'required;length[6~20];',
			   'paymentPassword':'required;length[6~20];pwdCheck;checkLgnPwd;',
			   'repeatpaymentPassword':{
				   rule: "required;match(paymentPassword)",
				   msg: {match: "请确保两次输入支付密码相同!"}
				}
			}
		});
	});
	
	</script>
  </body>
</html>