<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ucf.customer">
<!-- insert UcfSubCard -->
<insert id="insertUcfSubCard" parameterType="ucfSubCard" keyProperty="id" useGeneratedKeys="true">
	<![CDATA[
		INSERT INTO UCF_SUB_CARD (
	SUB_CARD_NO,CARD_NO,ACCOUNT_NO,CARD_TYPE,STATUS,MEMO,GMT_CREATE,GMT_MODIFIED,CARD_ALIAS,SUB_CARD_PWD,PWD_ERROR_TIMES,LAST_PAY_FAIL_DT,BIZ_FLAG
		)VALUES(
		#{subCardNo,jdbcType=VARCHAR},#{cardNo,jdbcType=VARCHAR},#{accountNo,jdbcType=VARCHAR},#{cardType,jdbcType=VARCHAR},#{status,jdbcType=CHAR},#{memo,jdbcType=VARCHAR},#{gmtCreate,jdbcType=TIMESTAMP},#{gmtModified,jdbcType=TIMESTAMP},#{cardAlias,jdbcType=VARCHAR},#{subCardPwd,jdbcType=VARCHAR},#{pwdErrorTimes,jdbcType=NUMERIC},#{lastPayFailDt,jdbcType=TIMESTAMP},#{bizFlag,jdbcType=VARCHAR})
	]]>
</insert>


<select id="getSubCardNo"  resultType="java.lang.String">
select UCF_SUB_CARD_SEQ.nextval from dual
</select>

<!-- update UcfSubCard -->
<update id="updateUcfSubCard" parameterType="ucfSubCard">
	<![CDATA[
		UPDATE 
		UCF_SUB_CARD 
		SET 
		 SUB_CARD_NO=SUB_CARD_NO
	]]>
			<if test="null != cardNo">
	<![CDATA[
,CARD_NO = #{cardNo}
	]]>
	</if>
	<if test="null != accountNo">
	<![CDATA[
,ACCOUNT_NO = #{accountNo}
	]]>
	</if>
	<if test="null != cardType">
	<![CDATA[
,CARD_TYPE = #{cardType}
	]]>
	</if>
	<if test="null != status">
	<![CDATA[
,STATUS = #{status}
	]]>
	</if>
	<if test="null != memo">
	<![CDATA[
,MEMO = #{memo}
	]]>
	</if>
	<if test="null != gmtCreate">
	<![CDATA[
,GMT_CREATE = #{gmtCreate}
	]]>
	</if>
	<if test="null != gmtModified">
	<![CDATA[
,GMT_MODIFIED = #{gmtModified}
	]]>
	</if>
	<if test="null != cardAlias">
	<![CDATA[
,CARD_ALIAS = #{cardAlias}
	]]>
	</if>
	<if test="null != subCardPwd">
	<![CDATA[
,SUB_CARD_PWD = #{subCardPwd}
	]]>
	</if>
	<if test="null != pwdErrorTimes">
	<![CDATA[
,PWD_ERROR_TIMES = #{pwdErrorTimes}
	]]>
	</if>
	<if test="null != lastPayFailDt">
	<![CDATA[
,LAST_PAY_FAIL_DT = #{lastPayFailDt}
	]]>
	</if>
	<if test="null != bizFlag">
	<![CDATA[
,BIZ_FLAG = #{bizFlag}
	]]>
	</if>
	<![CDATA[

		WHERE  SUB_CARD_NO = #{subCardNo} 
	]]>
</update>

<!-- delete UcfSubCard -->
<delete id="deleteUcfSubCard" parameterType="string">
	<![CDATA[
		DELETE FROM UCF_SUB_CARD WHERE id = #{id}
	]]>
</delete>

<!-- select UcfSubCard -->
<select id="queryUcfSubCardByWhere" resultType="ucfSubCard" parameterType="ucfSubCard" >
<![CDATA[
SELECT 
SUB_CARD_NO as subCardNo,CARD_NO as cardNo,ACCOUNT_NO as accountNo,CARD_TYPE as cardType,STATUS as status,MEMO as memo,GMT_CREATE as gmtCreate,GMT_MODIFIED as gmtModified,CARD_ALIAS as cardAlias,SUB_CARD_PWD as subCardPwd,PWD_ERROR_TIMES as pwdErrorTimes,LAST_PAY_FAIL_DT as lastPayFailDt,BIZ_FLAG as bizFlag FROM UCF_SUB_CARD WHERE ROWNUM <= 10 
]]>
<if test="null != subCardNo and '' != subCardNo">
<![CDATA[
AND SUB_CARD_NO = #{subCardNo}
]]>
</if>
<if test="null != cardNo and '' != cardNo">
<![CDATA[
AND CARD_NO = #{cardNo}
]]>
</if>
<if test="null != accountNo and '' != accountNo">
<![CDATA[
AND ACCOUNT_NO = #{accountNo}
]]>
</if>
<if test="null != cardType and '' != cardType">
<![CDATA[
AND CARD_TYPE = #{cardType}
]]>
</if>
<if test="null != status and '' != status">
<![CDATA[
AND STATUS = #{status}
]]>
</if>
<if test="null != memo and '' != memo">
<![CDATA[
AND MEMO = #{memo}
]]>
</if>
<if test="null != gmtCreate">
<![CDATA[
AND GMT_CREATE = #{gmtCreate}
]]>
</if>
<if test="null != gmtModified">
<![CDATA[
AND GMT_MODIFIED = #{gmtModified}
]]>
</if>
<if test="null != cardAlias and '' != cardAlias">
<![CDATA[
AND CARD_ALIAS = #{cardAlias}
]]>
</if>
<if test="null != subCardPwd and '' != subCardPwd">
<![CDATA[
AND SUB_CARD_PWD = #{subCardPwd}
]]>
</if>
<if test="null != pwdErrorTimes">
<![CDATA[
AND PWD_ERROR_TIMES = #{pwdErrorTimes}
]]>
</if>
<if test="null != lastPayFailDt">
<![CDATA[
AND LAST_PAY_FAIL_DT = #{lastPayFailDt}
]]>
</if>
<if test="null != bizFlag and '' != bizFlag">
<![CDATA[
AND BIZ_FLAG = #{bizFlag}
]]>
</if>
</select>
</mapper>
