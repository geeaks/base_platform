﻿﻿<%@ page language="java" import="java.util.*" pageEncoding="UTF-8" contentType="text/html; charset=utf-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
<title>先锋支付--基金用户注册</title>
<jsp:include page="/WEB-INF/views/jsp/common/oldcommon.jsp" />
<link href="${staticMemberPath}/new/css/frist-register.css" rel="stylesheet" type="text/css" />
<link href="${staticMemberPath}/css/ucfgroup-nicevalidator-extends.css" rel="stylesheet" />
<script src="${staticMemberPath}/js/jquery.validator.js" type="text/javascript"></script>
<script src="${staticMemberPath}/js/zh_CN.js" type="text/javascript"></script>
<script src="${staticMemberPath}/js/ucfgroup-nicevalidator-extends.js" type="text/javascript"></script>
</head>
<body>
	<c:import url="headforregister.jsp"></c:import>
	<section class="bgc-gray" style="padding:0">
	<div class="gs-center register">
		<img src="${staticMemberPath}/images/fund/asd_01.png" />
		<div class="tab-content help-tab-content border-none">
			<div class="tab-pane active" id="zh">
				<div class="background-wite pt40">
					<form id="regForm" name="regForm" action="${basePath}/fund/register/checkPhone" class="pl50" method="post" data-validator-option="{theme:'ucfgroup_effect',timely:2}">
						<p>
							<label for="name">手机号码 :</label>
							<input id="userNo" name="userNo" value="${phoneNo}" type="text" class="idbox w220" maxlength="11" data-tip="输入的手机号将作为账户名" />
						</p>
						<p>
							<label for="name">验证码 :</label>
							<input id="checkCode" name="checkCode" class="w105" type="text" maxlength="4" tabindex="3" data-tip="输入左图中字符，不区分大小写" />
							<img id="J-checkcode-img" class="pic-w checkcode-img" title="点击图片刷新验证码" onclick="myReload()" complete="complete"
								src="${basePath}/common/imgCode" alt="输入验证码" style="cursor: pointer; margin-left:5px;margin-right:5px;margin-top:-2px;"
								seed="JIndexForm-J-checkcode-img" smartracker="on" />
						</p>
						<p>
							<span style="display:inline-block; margin-left:123px; color:#f85048;">${phoneNoerrMsg}</span>
						</p>
						<p>
							<input type="checkbox" checked class="checkbox" name="fr-chk" id="fr-chk" tabindex="3" style="margin:0 0 0 120px;" /> 
							<label type="checkbox" class="deal" style="width:220px;margin:0;">
								我同意《 <a href="${basePath}/fund/register/protocol" target="_blank">先锋账户开户协议 </a>》
							</label>
						</p>
						<a class="btn mt20 mgl113" onclick="subPhoneForm();">下一步</a>
					</form>
				</div>
			</div>
		</div>
	</section>
	<c:import url="/WEB-INF/views/jsp/common/newfooter.jsp"></c:import>
<script type="text/javascript">
	function myReload() {
		document.getElementById("J-checkcode-img").src = document.getElementById("J-checkcode-img").src + "?nocache=" + new Date().getTime();
	}
	function subPhoneForm() {
		$("#regForm").submit();
	}
	$(document).ready(function() {
		$('#regForm').validator({
			stopOnError : false,
			timely : true,
			rules : {
				tel : [ /^1\d{10}$/, '请输入正确的手机号' ]
			},
			fields : {
				'fr-chk' : {
					rule : "checked",
					msg : {
						checked : "请选择同意!"
					}
				},
				'userNo' : 'required;tel;',
				'checkCode' : 'required;length[4];remote[${basePath}/common/checkImgCode];'
			}
		});
		$('#checkCode').keyup(function() {
			var v = $(this).val();
			if (v != null && v.length == 4) {
				$(this).trigger("validate");
			}
		});
	});
</script>
</body>
</html>