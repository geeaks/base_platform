<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context"
	xmlns:dubbo="http://code.alibabatech.com/schema/dubbo"
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.2.xsd 
        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
        http://code.alibabatech.com/schema/dubbo http://code.alibabatech.com/schema/dubbo/dubbo.xsd"
	default-autowire="byName" default-lazy-init="false">
	<!-- 提供方应用信息，用于计算依赖关系 -->
	<dubbo:application name="member-provider-app" />
	<dubbo:monitor protocol="registry"/>
	<!-- 使用zookeeper注册中心暴露服务地址 -->
	<dubbo:registry protocol="zookeeper" address="${dubbo.registry}"  file="dubbo-registry.cache"/>
	<!-- 用dubbo协议暴露服务 -->
	<dubbo:protocol name="dubbo" port="${dubbo.member.service.port}"
		server="netty" client="netty" serialization="java" charset="UTF-8"
		threadpool="fixed" threads="400" accesslog="true"/>
	<!-- 声明需要暴露的服务接口 -->
	<!-- 查询service配置 -->
	<bean id="apiSearchTransactionService"
		class="com.ucf.customer.ws.service.impl.SearchTransactionWSImpl" />
	
	<dubbo:service interface="com.ucf.customer.ws.service.SearchTransactionWS"
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"
		ref="apiSearchTransactionService" />
		
	
	<!-- 查询service配置 -->
	<bean id="apiUserRealNameService"
		class="com.ucf.customer.ws.service.impl.UserRealNameServiceImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.UserRealNameService"
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"
		ref="apiUserRealNameService" />
	
	<!-- 用户信息查询 -->
	<bean id="apiUserService"
		class="com.ucf.customer.ws.service.impl.UserServiceWSImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.UserServiceWS"
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"
		ref="apiUserService" />	
		
		
	<!-- 查询用户卡号配置 -->
	<bean id="apiCardInfoService" class="com.ucf.customer.ws.service.impl.CardInfoWSImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.CardInfoWS"
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"
		ref="apiCardInfoService" />
		
	<bean id="apiServiceInterfaceService" class="com.ucf.customer.ws.service.impl.ServiceInterfaceWSImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.ServiceInterfaceWS" 
		version="${dubbo.p2p.member.service.version}" timeout="${dubbo.service.timeout}" 
		ref="apiServiceInterfaceService" />
		
	<bean id="apiQueryBankCardsService" class="com.ucf.customer.ws.service.impl.QueryBankCardsImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.QueryBankCards" 
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}" 
		ref="apiQueryBankCardsService" />
	<!-- 公安部实名认证信息 -->
	<bean id="apiCheckAutherRealNameService" class="com.ucf.customer.ws.service.impl.CheckAutherRealNameWSImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.CheckAutherRealNameWS"
	 	version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"  ref="apiCheckAutherRealNameService" />
	
	<!-- 企业会员 -->
	<bean id="apiEnterpriseMemberServiceService" class="com.ucf.customer.ws.enterprise.impl.EnterpriseMemberServiceImpl" />
	<dubbo:service interface="com.ucf.customer.ws.service.enterprise.EnterpriseMemberService"
	 	version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}"  ref="apiEnterpriseMemberServiceService" />
	
	<bean id="apiMemberService" class="com.ucf.customer.api.impl.MemberServiceImpl" />
	<dubbo:service interface="com.ucf.customer.api.MemberService" 
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}" 
		ref="apiMemberService" />
	 	
	<bean id="apiBizMemberService" class="com.ucf.customer.api.impl.EnterpriseMemberServiceImpl" />
	<dubbo:service interface="com.ucf.customer.api.IEnterpriseMemberService" 
		version="${dubbo.member.service.version}" timeout="${dubbo.service.timeout}" 
		ref="apiBizMemberService" />
		
	<!-- 账务 -->
	<!-- 开户 -->
	<dubbo:reference protocol="dubbo" id="openAccountService" version="${dubbo.account.service.version}"
		interface="com.ucf.account.ws.service.OpenAccountWS" timeout="${dubbo.service.timeout}" 
		retries="0" check="false"/>

	<!-- 查询 -->
	<dubbo:reference protocol="dubbo" id="searchAccountWS" version="${dubbo.account.service.version}"
		interface="com.ucf.account.ws.service.SearchAccountWS" timeout="${dubbo.service.timeout}" 
		retries="0" check="false"/>

	<!-- 金融网关查询接口 -->
	<dubbo:reference protocol="dubbo" id="searchGetWayTransaction" version="${dubbo.gateway.service.version}"
		interface="com.ucf.gateway.ws.service.SearchTransactionWS" timeout="${dubbo.service.timeout}" 
		retries="0" check="false" />


	<!-- 充值 -->
	<!-- <dubbo:reference id="tradeUcfRechargeService" version="${dubbo.trade.service.version}"
		interface="com.ucf.trade.ws.service.TradeUcfRechargeServiceWs"
		timeout="10000" retries="0" check="false"/> -->
		
	<!-- 实名认证 -->
	<dubbo:reference protocol="dubbo" id="tradeUcfRealNameService" version="${dubbo.trade.service.version}"
		interface="com.ucf.trade.ws.service.TradeUcfRealNameServiceWs"
		timeout="10000" retries="0" check="false"/>

	<!--银行卡提现 -->
	<dubbo:reference protocol="dubbo" id="tradeUcfWithdrawServiceWs"
		version="${dubbo.trade.service.version}" interface="com.ucf.trade.ws.service.TradeUcfWithdrawServiceWs"
		timeout="10000" retries="0" check="false"/>

	<!--卡bin -->
	<dubbo:reference protocol="dubbo" id="tradeUcfSearchCardBINService"
		version="${dubbo.trade.service.version}" interface="com.ucf.trade.ws.service.TradeUcfSearchCardBINServiceWs"
		timeout="10000" retries="0" check="false"/>

	<!-- 订单交易查询接口,查询对应交易记录 开发环境 -->
	<!-- author: yuchao@ucfgroup.com -->
	<dubbo:reference protocol="dubbo" id="tradeUcfSearchOrderListService"
		version="${dubbo.trade.service.version}" interface="com.ucf.trade.ws.service.TradeUcfSearchOrderServiceWs"
		timeout="10000" retries="0" check="false"/>
		
	<!-- 统一支付 身份鉴权 -->
	<!-- author: yuchao@ucfgroup.com -->
	<dubbo:reference protocol="dubbo" id="iRealNameAuthWS"
		version="${dubbo.payment.service.version}" interface="com.ucf.payment.ws.service.IRealNameAuthWS"
		timeout="30000" retries="0" check="false"/>
		
	<!-- 短信网关发送短信 -->
	<dubbo:reference protocol="dubbo" id="messageService"
		version="${dubbo.message.service.version}" interface="com.ucf.onlinepay.msg.service.MessageService"
		timeout="20000" retries="0" check="false"/>
		
</beans>
